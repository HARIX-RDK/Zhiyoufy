<!doctype html>
<html lang="zh-Hans" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-developer-guide/framework_intro/intro" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">概述 | Zhiyoufy文档</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://harix-rdk.github.io/Zhiyoufy/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://harix-rdk.github.io/Zhiyoufy/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://harix-rdk.github.io/Zhiyoufy/developer-guide/framework_intro/intro"><meta data-rh="true" property="og:locale" content="zh_Hans"><meta data-rh="true" name="docusaurus_locale" content="zh-Hans"><meta data-rh="true" name="docsearch:language" content="zh-Hans"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="概述 | Zhiyoufy文档"><meta data-rh="true" name="description" content="zhiyoufy是一套基于RobotFramework, pyhocon, jinja等开发的自动化测试框架"><meta data-rh="true" property="og:description" content="zhiyoufy是一套基于RobotFramework, pyhocon, jinja等开发的自动化测试框架"><link data-rh="true" rel="icon" href="/Zhiyoufy/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://harix-rdk.github.io/Zhiyoufy/developer-guide/framework_intro/intro"><link data-rh="true" rel="alternate" href="https://harix-rdk.github.io/Zhiyoufy/developer-guide/framework_intro/intro" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://harix-rdk.github.io/Zhiyoufy/developer-guide/framework_intro/intro" hreflang="x-default"><link rel="stylesheet" href="/Zhiyoufy/assets/css/styles.e4418e20.css">
<script src="/Zhiyoufy/assets/js/runtime~main.3152f836.js" defer="defer"></script>
<script src="/Zhiyoufy/assets/js/main.87d395b2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Zhiyoufy/"><div class="navbar__logo"><img src="/Zhiyoufy/img/logo.png" alt="Zhiyoufy Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Zhiyoufy/img/logo.png" alt="Zhiyoufy Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Zhiyoufy文档</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Zhiyoufy/getting-started/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/HARIX-RDK/Zhiyoufy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Zhiyoufy/getting-started/intro">上手指南</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Zhiyoufy/user-guide/intro">用户指南</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Zhiyoufy/developer-guide/framework_intro/intro">开发者指南</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/Zhiyoufy/developer-guide/framework_intro/intro">框架简介</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Zhiyoufy/developer-guide/framework_intro/intro">概述</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Zhiyoufy/developer-guide/framework_intro/create-new-case">创建新case</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Zhiyoufy/developer-guide/framework_intro/prepare">prepare</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Zhiyoufy/developer-guide/framework_intro/stomp-over-websocket-rpc">stomp-over-websocket-rpc</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/Zhiyoufy/developer-guide/framework_intro/zhiyoufy-python/intro">zhiyoufy-python</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/Zhiyoufy/developer-guide/framework_usage/intro">framework_usage</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Zhiyoufy/deployment/intro">部署</a></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/Zhiyoufy/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">开发者指南</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">框架简介</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">概述</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>概述</h1></header><p>zhiyoufy是一套基于**<a href="https://robotframework.org" target="_blank" rel="noopener noreferrer">RobotFramework</a>, <a href="https://github.com/chimpler/pyhocon" target="_blank" rel="noopener noreferrer">pyhocon</a>, <a href="https://jinja.palletsprojects.com/en/2.10.x/" target="_blank" rel="noopener noreferrer">jinja</a>**等开发的自动化测试框架</p>
<p>如果只是开发worker，则只需要了解zhiyoufy-python部分，其它部分通过用户指南会使用就行。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="robot-framework">Robot Framework<a class="hash-link" aria-label="Robot Framework的直接链接" title="Robot Framework的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#robot-framework">​</a></h2>
<p><a href="https://robotframework.org" target="_blank" rel="noopener noreferrer">RobotFramework</a>是基于keyword的test系统，比如keyword “Login”，keyword “Input ***”，基于我们的情况，我们这里采用一个case都由单一keyword加配置文件组成，并在配置文件中详细描述测试步骤</p>
<p>相比原生的优点</p>
<ul>
<li>当传递复杂的参数时更清晰</li>
<li>可断点调试</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="如何控制让一个case失败">如何控制让一个case失败<a class="hash-link" aria-label="如何控制让一个case失败的直接链接" title="如何控制让一个case失败的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#如何控制让一个case失败">​</a></h3>
<p><a href="https://robotframework.org" target="_blank" rel="noopener noreferrer">RobotFramework</a>本身就是在普通的python程序里跑，它是通过catch Exception来判断case失败的，当我们写的测试程序判断case失败，比如api返回码不符合预期时，只要抛出异常就可以导致对应case失败</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> delay </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> timedelta</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">seconds</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;max_delay&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">raise</span><span class="token plain"> Exception</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;delay %s larger than max_delay %s&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">delay</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> data</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;max_delay&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="robotframework原生用法">RobotFramework原生用法<a class="hash-link" aria-label="RobotFramework原生用法的直接链接" title="RobotFramework原生用法的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#robotframework原生用法">​</a></h3>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*** Settings ***</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Documentation     A test suite with a single test for valid login.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...               This test has a workflow that is created using keywords in</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...               the imported resource file.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Resource          resource.txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*** Test Cases ***</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Valid Login</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Open Browser To Login Page</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input Username    demo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input Password    mode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Submit Credentials</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Welcome Page Should Be Open</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    [Teardown]    Close Browser</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="json描述的case">json描述的case<a class="hash-link" aria-label="json描述的case的直接链接" title="json描述的case的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#json描述的case">​</a></h2>
<p><a href="https://robotframework.org" target="_blank" rel="noopener noreferrer">RobotFramework</a>是在它的case文件中组织具体测试步骤，但是在case文件中配置大量参数比较受限，可读性也不好。</p>
<p>类似于<a href="https://robotframework.org" target="_blank" rel="noopener noreferrer">RobotFramework</a>自己的keyword组合系统，但我们采用json配置文件来方便各测试步骤参数的配置，并且利用<a href="https://jinja.palletsprojects.com/en/2.10.x/" target="_blank" rel="noopener noreferrer">jinja</a>的
模板能力来进一步增加灵活性，在测试代码中实现各种功能指令，然后在json文件中指定指令的顺序和对应配置</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="case示例">case示例<a class="hash-link" aria-label="case示例的直接链接" title="case示例的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#case示例">​</a></h3>
<p>可以在下面示例中看到在<a href="https://robotframework.org" target="_blank" rel="noopener noreferrer">RobotFramework</a>的case中只有一个<code>TestDynamicFlow.run</code>调用，它的参数就是对应case的json步骤描述</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*** Settings ***</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Documentation     A test suite for Dynamic Flow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...               Config Single CRUD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Resource          ../../global_resource.robot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Library           zhiyoufy.app.TestDynamicFlow   WITH NAME    TestDynamicFlow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Force Tags        nostat-00100__config_single_crud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*** Test Cases ***</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Test Config Single CRUD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TestDynamicFlow.run  dynamic_flows_from_tpl/dynamic_flow_test/00100__config_single_crud.json.j2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="case步骤配置文件示例">case步骤配置文件示例<a class="hash-link" aria-label="case步骤配置文件示例的直接链接" title="case步骤配置文件示例的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#case步骤配置文件示例">​</a></h3>
<p>每一步都是一个json object，当参数复杂时也很清晰，另外还通过<a href="https://github.com/chimpler/pyhocon" target="_blank" rel="noopener noreferrer">pyhocon</a>和<a href="https://jinja.palletsprojects.com/en/2.10.x/" target="_blank" rel="noopener noreferrer">jinja</a>提供了动态配置的能力</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;datas&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;type&quot;: &quot;zhiyoufy_base_login&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;username&quot;: &quot;{{ zhiyoufy.user_params_group_3.username }}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;password&quot;: &quot;{{ zhiyoufy.user_params_group_3.password }}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;type&quot;: &quot;zhiyoufy_environment_get_single_by_name&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;environment_var_path&quot;: &quot;environment_var&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;name&quot;: &quot;{{ env_name }}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;must_exist&quot;: true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;step_description&quot;: &quot;查找名字为name的environment&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="自动化配置">自动化配置<a class="hash-link" aria-label="自动化配置的直接链接" title="自动化配置的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#自动化配置">​</a></h2>
<p>配置文件我们采用<a href="https://github.com/lightbend/config/blob/master/HOCON.md" target="_blank" rel="noopener noreferrer">hocon</a>，它的变量覆盖，merge等功能
让动态组合config变的容易</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="json-superset-features"><a href="https://github.com/lightbend/config" target="_blank" rel="noopener noreferrer">JSON superset features</a><a class="hash-link" aria-label="json-superset-features的直接链接" title="json-superset-features的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#json-superset-features">​</a></h3>
<p>相比json多的功能</p>
<ul>
<li>comments</li>
<li>includes, 包含子文件，或者说文件嵌套</li>
<li>变量覆盖，后面的赋值覆盖前面的</li>
<li>substitutions <code>(&quot;foo&quot; : ${bar}, &quot;foo&quot; : Hello ${who})</code></li>
<li>properties-like notation <code>(a.b=c)</code></li>
<li>less noisy, more lenient syntax</li>
<li>substitute environment variables <code>(logdir=${HOME}/logs)</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="读取配置">读取配置<a class="hash-link" aria-label="读取配置的直接链接" title="读取配置的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#读取配置">​</a></h3>
<p>首先在执行测试脚本时设置配置文件，相关代码如下, global_library_config就是配置文件路径</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    cmd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;robot --outputdir %s --tagstatexclude nostat-* --variable global_library_config:%s %s %s %s %s&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">%</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">run_output_dir</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config_inst</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">global_library_config</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> additional_python_path</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           test_include</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> test_exclude</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> config_inst</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">test_target</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>然后在跑具体测试case时将这个配置文件传递进去，相关代码如下，
GlobalLibrary这个python库会从指定路径读取配置文件</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">*** Settings ***</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Library           zhiyoufy.app.GlobalLibrary  ${global_library_config}  WITH NAME    GlobalLibrary</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>具体配置文件示例</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">zhiyoufy: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  addr: &quot;http://localhost:8088&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  default_update_if_exist: false,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="自动化执行">自动化执行<a class="hash-link" aria-label="自动化执行的直接链接" title="自动化执行的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#自动化执行">​</a></h2>
<p>执行是通过python的<a href="https://docs.python.org/3.8/library/subprocess.html" target="_blank" rel="noopener noreferrer">subprocess</a>模块来调用robot程序，robot是<a href="https://robotframework.org" target="_blank" rel="noopener noreferrer">RobotFramework</a>提供的一个命令行程序，相关代码如下</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">            cmd </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;robot --outputdir </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">robotframework_output_dir</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> --tagstatinclude stat-*&quot;</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token string-interpolation string" style="color:#e3116c">f&quot; --variable global_library_config:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">dst_base_conf_path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">additional_python_path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token plain"> \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token string-interpolation string" style="color:#e3116c">f&quot; </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">.</span><span class="token string-interpolation interpolation">extra_args</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">abs_test_suite_path</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            proc </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> subprocess</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Popen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cmd</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> shell</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stdout</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">subprocess</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">PIPE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                stderr</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">subprocess</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">STDOUT</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> text</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> encoding</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;utf-8&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="zhiyoufy执行">zhiyoufy执行<a class="hash-link" aria-label="zhiyoufy执行的直接链接" title="zhiyoufy执行的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#zhiyoufy执行">​</a></h3>
<p>在zhiyoufy中是<code>worker</code>在接到从<code>zhiyoufy-java</code>发来的请求后触发执行的</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="本地执行">本地执行<a class="hash-link" aria-label="本地执行的直接链接" title="本地执行的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#本地执行">​</a></h3>
<p>可参照<code>zhiyoufy-python/run_robot_zhiyoufy_test.py</code>编写一个本地触发的脚本，在提交代码前可以通过它来验证</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="case组织">case组织<a class="hash-link" aria-label="case组织的直接链接" title="case组织的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#case组织">​</a></h2>
<p>因为是基于<a href="https://robotframework.org" target="_blank" rel="noopener noreferrer">RobotFramework</a>，所以组织上是基于目录和tag的</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="前端目录规则">前端目录规则<a class="hash-link" aria-label="前端目录规则的直接链接" title="前端目录规则的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#前端目录规则">​</a></h3>
<p>template目录应与真实RobotFramework目录一一对应，这样利于维护也好理解</p>
<p>特殊情况可创建虚拟目录，应以前缀<strong>virtual_</strong>区分</p>
<p>目录对应的template在zhiyoufy上归属于上级目录</p>
<p>假设RobotFramework的目录结构为</p>
<ul>
<li>A1<!-- -->
<ul>
<li>A1_1</li>
<li>A1_2</li>
</ul>
</li>
<li>B1<!-- -->
<ul>
<li>B1_1</li>
<li>B1_2</li>
</ul>
</li>
<li>C1<!-- -->
<ul>
<li>C1_1</li>
<li>C1_2</li>
</ul>
</li>
</ul>
<p>则zhiyoufy portal上也有对应的这几个目录</p>
<p>然后比如A1_1这个目录，它的上级目录是A1，那A1_1对应的template在zhiyoufy上创建在A1上</p>
<p>如果目录对应的template比较多，放在上级目录会比较乱，这时候可以在原目录下创建虚拟目录来管理，
比如加入A1_1有10种不同template，那可以在A1_1下创建虚拟目录比如<strong>virtual_A1_1</strong></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="准备类">准备类<a class="hash-link" aria-label="准备类的直接链接" title="准备类的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#准备类">​</a></h3>
<p>case运行有的需要有一些前置条件，比如用户存在，如果有撰写自动化脚本来做准备工作，那应该把准备工作放到独立的目录中，
这样可以让case更简练易懂，当然可以在case描述中写清楚依赖项</p>
<p>准备类可以按不同原则分类，比如产品，比如账号组</p>
<p>不同脚本的执行次数可能也不一样，比如有的账号组有100个，有的只有5个，那么不能简单的让所有脚本执行
多少次</p>
<p>这种情况可能没有简单的方法适应各种情况，需要按 照实际需要设计脚本执行顺序，执行次数，然后用文档记录下来，
这部分应该还是准备好后人工按照文档执行比较稳妥，因为准备类应该是很低频的，所以效率不是问题。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="自动化部署">自动化部署<a class="hash-link" aria-label="自动化部署的直接链接" title="自动化部署的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#自动化部署">​</a></h2>
<ul>
<li><code>worker</code>可以打包成docker image</li>
<li>如果<code>worker</code>可以部署在云端，则建议通过<code>helm</code>部署到k8s环境中</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="zhiyoufy架构">zhiyoufy架构<a class="hash-link" aria-label="zhiyoufy架构的直接链接" title="zhiyoufy架构的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#zhiyoufy架构">​</a></h2>
<p><img decoding="async" loading="lazy" alt="zhiyoufy-architecture" src="/Zhiyoufy/assets/images/zhiyoufy-architecture-f69d5bccd5c1164ead832bc211e66b51.png" width="541" height="561" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="zhiyoufy-java">zhiyoufy-java<a class="hash-link" aria-label="zhiyoufy-java的直接链接" title="zhiyoufy-java的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#zhiyoufy-java">​</a></h2>
<p>使用java开发的服务器后端，用于管理环境、project、app等</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="zhiyoufy-web">zhiyoufy-web<a class="hash-link" aria-label="zhiyoufy-web的直接链接" title="zhiyoufy-web的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#zhiyoufy-web">​</a></h2>
<p>使用vue开发的前端应用，用户可以通过这个创建环境、project等</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="zhiyoufy-python">zhiyoufy-python<a class="hash-link" aria-label="zhiyoufy-python的直接链接" title="zhiyoufy-python的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#zhiyoufy-python">​</a></h2>
<p>开发功能测试worker时基础的功能封装，比如config的解析，不同util的封装等</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="zhiyoufy-go">zhiyoufy-go<a class="hash-link" aria-label="zhiyoufy-go的直接链接" title="zhiyoufy-go的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#zhiyoufy-go">​</a></h2>
<p>开发性能测试worker时基础的功能封装，比如script的解析，基本command handler，job的运行等</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="clients及handler封装">clients及handler封装<a class="hash-link" aria-label="clients及handler封装的直接链接" title="clients及handler封装的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#clients及handler封装">​</a></h2>
<p>这个不同用户可以按需做封装，比如用户有A、B、C三个产品，它可以创建一个repo，然后
在里面包含3个clients和对应handler，也可以建立多个repo，在里面相应封装</p>
<p>这个不和worker放在一起的目的是为了复用，clients封装主要关注目标产品功能client侧
的封装，它并不关注具体的测试case</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="worker工程">worker工程<a class="hash-link" aria-label="worker工程的直接链接" title="worker工程的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#worker工程">​</a></h2>
<p>worker工程主要关注case的构建，首先它会依赖<code>zhiyoufy-python</code>，其次它会依赖case中
涉及的不同clients，worker工程代码比较少，主要是case描述和一些资源文件</p>
<p>一个worker如果被测产品涉及ProductAaa, ProductBbb，那么它就可以引入依赖ProductAaaClient,
ProductBbbClient</p>
<p>另一个worker如果被测产品涉及ProductBbb, ProductCcc，那么它就可以引入依赖ProductBbbClient,
ProductCccClient</p>
<p>这里client部分就被复用，从而减少维护成本</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="代码部分">代码部分<a class="hash-link" aria-label="代码部分的直接链接" title="代码部分的直接链接" href="/Zhiyoufy/developer-guide/framework_intro/intro#代码部分">​</a></h3>
<p>这里代码一个是handler的注册，比如</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_handler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DynamicFlowProductAaaClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">add_handler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">DynamicFlowProductBbbClient</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>一个是GlobalLibraryBase中对config的默认配置</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;long_timeout&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">not</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> test_step_dynamic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            test_step_dynamic</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">long_timeout </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">180</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/Zhiyoufy/user-guide/howto/performance-test-flow"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">performance-test-flow</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Zhiyoufy/developer-guide/framework_intro/create-new-case"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">创建新case</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#robot-framework">Robot Framework</a><ul><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#如何控制让一个case失败">如何控制让一个case失败</a></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#robotframework原生用法">RobotFramework原生用法</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#json描述的case">json描述的case</a><ul><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#case示例">case示例</a></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#case步骤配置文件示例">case步骤配置文件示例</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#自动化配置">自动化配置</a><ul><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#json-superset-features">JSON superset features</a></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#读取配置">读取配置</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#自动化执行">自动化执行</a><ul><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#zhiyoufy执行">zhiyoufy执行</a></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#本地执行">本地执行</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#case组织">case组织</a><ul><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#前端目录规则">前端目录规则</a></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#准备类">准备类</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#自动化部署">自动化部署</a></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#zhiyoufy架构">zhiyoufy架构</a></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#zhiyoufy-java">zhiyoufy-java</a></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#zhiyoufy-web">zhiyoufy-web</a></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#zhiyoufy-python">zhiyoufy-python</a></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#zhiyoufy-go">zhiyoufy-go</a></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#clients及handler封装">clients及handler封装</a></li><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#worker工程">worker工程</a><ul><li><a class="table-of-contents__link toc-highlight" href="/Zhiyoufy/developer-guide/framework_intro/intro#代码部分">代码部分</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Zhiyoufy/getting-started/intro">上手指南</a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://daringfireball.net/projects/markdown/syntax" target="_blank" rel="noopener noreferrer" class="footer__link-item">Markdown语法<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Zhiyoufy.</div></div></div></footer></div>
</body>
</html>