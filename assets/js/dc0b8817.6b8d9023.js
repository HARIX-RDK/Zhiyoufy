"use strict";(self.webpackChunkzhiyoufy_docs=self.webpackChunkzhiyoufy_docs||[]).push([[226],{1967:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>_,frontMatter:()=>s,metadata:()=>a,toc:()=>o});var i=l(4848),t=l(8453);const s={title:"\u4f7f\u7528\u6846\u67b6\u5f00\u53d1"},r=void 0,a={id:"developer-guide/framework_usage/zhiyoufy-auto-test/develop_using_framework",title:"\u4f7f\u7528\u6846\u67b6\u5f00\u53d1",description:"\u5728\u6846\u67b6\u4ecb\u7ecd\u90e8\u5206\u6709\u4ecb\u7ecd\u6846\u67b6\u7684\u4e0d\u540c\u90e8\u5206\uff0c\u8fd9\u91cc\u4ecb\u7ecd\u5982\u4f55\u57fa\u4e8e\u6846\u67b6\u5f00\u53d1\u4e00\u4e2a\u5177\u4f53\u7684worker",source:"@site/docs/0300-developer-guide/0200-framework_usage/zhiyoufy-auto-test/00100-develop_using_framework.md",sourceDirName:"0300-developer-guide/0200-framework_usage/zhiyoufy-auto-test",slug:"/developer-guide/framework_usage/zhiyoufy-auto-test/develop_using_framework",permalink:"/Zhiyoufy/developer-guide/framework_usage/zhiyoufy-auto-test/develop_using_framework",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:100,frontMatter:{title:"\u4f7f\u7528\u6846\u67b6\u5f00\u53d1"},sidebar:"docSidebar",previous:{title:"develop-case",permalink:"/Zhiyoufy/developer-guide/framework_usage/develop-case"},next:{title:"\u642d\u5efa\u5f00\u53d1\u73af\u5883",permalink:"/Zhiyoufy/developer-guide/framework_usage/zhiyoufy-auto-test/setup-development"}},c={},o=[{value:"clients\u548chandler\u5c01\u88c5",id:"clients\u548chandler\u5c01\u88c5",level:2},{value:"\u6a21\u62dfrcu\u76f8\u5173",id:"\u6a21\u62dfrcu\u76f8\u5173",level:3},{value:"smartmap\u76f8\u5173",id:"smartmap\u76f8\u5173",level:3},{value:"handler\u5217\u8868",id:"handler\u5217\u8868",level:3},{value:"\u5b9e\u73b0client",id:"\u5b9e\u73b0client",level:3},{value:"child clients",id:"child-clients",level:4},{value:"parent client",id:"parent-client",level:4},{value:"case\u5e93",id:"case\u5e93",level:2},{value:"\u5b9e\u73b0GlobalLibraray",id:"\u5b9e\u73b0globallibraray",level:3},{value:"\u4f7f\u7528GlobalLibraray",id:"\u4f7f\u7528globallibraray",level:3},{value:"\u5b9e\u73b0TestDynamicFlow",id:"\u5b9e\u73b0testdynamicflow",level:3},{value:"\u4f7f\u7528TestDynamicFlow",id:"\u4f7f\u7528testdynamicflow",level:3},{value:"\u8bbe\u8ba1case",id:"\u8bbe\u8ba1case",level:3}];function d(e){const n={br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"\u5728\u6846\u67b6\u4ecb\u7ecd\u90e8\u5206\u6709\u4ecb\u7ecd\u6846\u67b6\u7684\u4e0d\u540c\u90e8\u5206\uff0c\u8fd9\u91cc\u4ecb\u7ecd\u5982\u4f55\u57fa\u4e8e\u6846\u67b6\u5f00\u53d1\u4e00\u4e2a\u5177\u4f53\u7684worker"}),"\n",(0,i.jsxs)(n.p,{children:["\u5982\u6846\u67b6\u4ecb\u7ecd\u4e2d\u6240\u8bf4\uff0c\u5f00\u53d1\u6d89\u53ca\u4e24\u90e8\u5206\uff0c\u4e00\u4e2a\u662f",(0,i.jsx)(n.strong,{children:"clients\u548chandler\u5c01\u88c5"}),"\uff0c\u4e00\u4e2a\u662f",(0,i.jsx)(n.strong,{children:"case\u7684\u5c01\u88c5"})]}),"\n",(0,i.jsx)(n.h2,{id:"clients\u548chandler\u5c01\u88c5",children:"clients\u548chandler\u5c01\u88c5"}),"\n",(0,i.jsx)(n.h3,{id:"\u6a21\u62dfrcu\u76f8\u5173",children:"\u6a21\u62dfrcu\u76f8\u5173"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"harix-auto-clients"}),"\u8fd9\u4e2arepo\u662f\u5bf9\u9700\u8981\u7684clients\u548chandler\u7684\u5c01\u88c5\uff0c\u6bd4\u5982"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/harixclients/harixclient"}),": \u5bf9\u6a21\u62dfrcu\u7684client\u5c01\u88c5"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/harixclients/dynamicflow/DynamicFlowHarixClient.py"}),": \u5bf9",(0,i.jsx)(n.code,{children:"harix_client_"}),"type\u524d\u7f00\u7684handler\u7684\u5c01\u88c5"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"class HarixClient(CustomLibraryBase):\n    def __init__(self):\n\n        self.asr_client = HarixClientAsr(parent_client=self)\n        self.rcc_client = HarixClientRcc(parent_client=self)\n        self.robot_client = HarixClientRobot(parent_client=self)\n        self.switch_client = HarixClientSwitch(parent_client=self)\n        self.tts_client = HarixClientTts(parent_client=self)\n        self.vision_client = HarixClientVision(parent_client=self)\n        self.push_client = HarixClientPush(parent_client=self)\n        self.nlu_client = HarixClientNlu(parent_client=self)\n        self.registry_client = HarixClientRegistry(parent_client=self)\n        self.app_client = HarixClientApp(parent_client=self)\n        self.world_server_client = HarixClientWorldServer(parent_client=self)\n        self.notify_client = HarixClientNotify(parent_client=self)      \n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'class DynamicFlowHarixClient:\n\n        self.type_prefix = "harix_client_"\n\n    def setup(self, dynamic_flow_base_inst):\n        self.config_inst = dynamic_flow_base_inst.config_inst\n        self.context = dynamic_flow_base_inst.context\n        self.robot_logger = dynamic_flow_base_inst.robot_logger\n\n        self.context.add_lib_client_factory("harix_client", self.build_harix_client)\n\n    def cleanup(self, case_context):\n        self.harix_client.switch_client.disconnect_if_needed()\n\n    def build_harix_client(self):\n        if self._harix_client is None:\n            from harixclients.harixclient.HarixClient import HarixClient\n            self._harix_client = HarixClient()\n        return self._harix_client           \n'})}),"\n",(0,i.jsx)(n.h3,{id:"smartmap\u76f8\u5173",children:"smartmap\u76f8\u5173"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/harixclients/mapclient"}),": \u5bf9smartmap\u7684client\u5c01\u88c5"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/harixclients/dynamicflow/DynamicFlowSmartmap.py"}),": \u5bf9",(0,i.jsx)(n.code,{children:"smartmap_"}),"type\u524d\u7f00\u7684handler\u7684\u5c01\u88c5"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"class MapClient(CustomLibraryBase):\n    def __init__(self):\n\n        self.layer_client = MapClientLayer(parent_client=self)\n        self.location_client = MapClientLocation(parent_client=self)\n        self.map_base_client = MapClientMap(parent_client=self)\n        self.virtual_wall_client = MapClientVirtualWall(parent_client=self)\n        self.poi_client = MapClientPoi(parent_client=self)\n        self.management_client = MapClientManagement(parent_client=self)\n        self.stat_client = MapClientStatistics(parent_client=self)\n        self.layer_rule_client = MapClientLayerRule(parent_client=self)\n        self.version_client = MapClientMapVersion(parent_client=self)\n        self.rcu_client = MapClientRCU(parent_client=self)\n        self.signal_client = MapClientSignal(parent_client=self)\n        self.area_client = MapClientArea(parent_client=self)\n        self.path_client = MapClientPath(parent_client=self)\n        self.mapbuild_client = MapClientMapBuild(parent_client=self)\n        self.utility_client = MapClientUtils(parent_client=self)\n        self.ue_client = MapClientUE(parent_client=self)\n        self.grid_client = MapClientGrid(parent_client=self)\n        self.rod_client = MapClientRod(parent_client=self)      \n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'class DynamicFlowSmartmapClient:\n    def __init__(self):\n\n        self.type_prefix = "smartmap_"\n\n    def setup(self, dynamic_flow_base_inst):\n        self.config_inst = dynamic_flow_base_inst.config_inst\n        self.context = dynamic_flow_base_inst.context\n        self.robot_logger = dynamic_flow_base_inst.robot_logger\n\n        self.context.add_lib_client_factory("smartmap_client", self.build_smartmap_client)\n\n    def cleanup(self, case_context):\n        pass\n\n    def build_smartmap_client(self):\n        if self._smartmap_client is None:\n            from harixclients.mapclient.MapClient import MapClient\n            self._smartmap_client = MapClient()\n        return self._smartmap_client              \n'})}),"\n",(0,i.jsx)(n.h3,{id:"handler\u5217\u8868",children:"handler\u5217\u8868"}),"\n",(0,i.jsxs)(n.p,{children:["\u5bf9\u4e8e\u8981\u53c2\u4e0e\u81ea\u52a8\u5316\u6d4b\u8bd5\u7684\u6bcf\u4e2a\u529f\u80fd\u6a21\u5757\uff0c\u90fd\u8bbe\u8ba1\u4e00\u4e2a\u76f8\u5e94\u7684handler\u3002",(0,i.jsx)(n.br,{}),"\n","\u6bd4\u5982\uff0c\u5bf9\u4e8eHARIX\u5e73\u53f0\u7684\u81ea\u52a8\u5316\u6d4b\u8bd5\uff0c\u6839\u636e\u6d4b\u8bd5\u9700\u6c42\uff0c\u6211\u4eec\u4e3b\u8981\u8bbe\u8ba1\u4e86\u4e0b\u9762\u8fd9\u4e9bhandler:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DynamicFlowHarixClient"}),": \u6d4b\u8bd5HARIX\u4e91\u7aef\u529f\u80fd"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DynamicFlowRocClient"}),": \u6d4b\u8bd5ROC\u529f\u80fd"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DynamicFlowAutoPortalBackendClient"}),": \u63a7\u5236\u81ea\u52a8\u5316\u6a21\u62df\u5ea7\u5e2d\u540e\u7aef"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DynamicFlowRcusimClient"}),"\uff1a\u63a7\u5236\u4f7f\u7528RcuSim\u6a21\u62df\u7684\u673a\u5668\u4eba"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DynamicFlowCmsProvision"}),"\uff1a\u81ea\u52a8\u5316\u64cd\u4f5cCMS portal\u914d\u7f6e\u7528\u6237\u6570\u636e"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DynamicFlowPortal"}),"\uff1a \u6d4b\u8bd5\u4e91\u7aef\u5ea7\u5e2d\u529f\u80fd"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DynamicFlowSmartmapClient"}),"\uff1a \u6d4b\u8bd5Smartmap\u529f\u80fd"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"DynamicFlowSmartVoiceClient"}),"\uff1a \u81ea\u52a8\u5316\u64cd\u4f5csmartvoice portal\u914d\u7f6e\u7528\u6237\u6570\u636e"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u5b9e\u73b0client",children:"\u5b9e\u73b0client"}),"\n",(0,i.jsxs)(n.p,{children:["\u6211\u4eec\u4ee5",(0,i.jsx)(n.code,{children:"HarixClient"}),"\u4e3a\u4f8b\uff0c\u6765\u4ecb\u7ecdclients\u7ec4\u7684\u5b9e\u73b0"]}),"\n",(0,i.jsx)(n.h4,{id:"child-clients",children:"child clients"}),"\n",(0,i.jsx)(n.p,{children:"\u4ee5CustomLibraryBridgeBase\u4e3a\u7236\u7c7b\uff0c\u5b9e\u73b0HarixClientBridge\uff0c\u4f5c\u4e3a\u6240\u6709child clients\u7684\u7236\u7c7b\u3002\n\u6309\u7167\u4e91\u7aef\u4e1a\u52a1\u5b9e\u73b0\u4e0b\u9762\u8fd9\u4e9bchild client\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"HarixClientAsr"}),": \u5bf9\u5e94\u4e91\u7aefskill-asr\u6a21\u5757\u529f\u80fd"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"HarixClientVision"}),"\uff1a \u5bf9\u5e94\u4e91\u7aefskill-vision\u6a21\u5757\u529f\u80fd"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"HarixClientNlu"}),"\uff1a\u5bf9\u5e94\u4e91\u7aefskill-nlu\u6a21\u5757\u529f\u80fd"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"HarixClientRcc"}),": \u5bf9\u5e94\u4e91\u7aefRcc\u6a21\u5757\u529f\u80fd"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"HarixClientRegistry"}),": \u5bf9\u5e94\u4e91\u7aefRegistry\u6a21\u5757\u529f\u80fd"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"HarixClientRobot"}),"\uff1a \u5bf9\u5e94\u4e91\u7aefskill-robot\u6a21\u5757\u529f\u80fd"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"HarixClientSwitch"}),"\uff1a \u5bf9\u5e94\u4e91\u7aefswitch\u6a21\u5757\u529f\u80fd"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"HarixClientTts"}),": \u5bf9\u5e94\u4e91\u7aefskill-tts\u6a21\u5757\u529f\u80fd"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"HarixClientPush"}),": \u5bf9\u5e94\u4e91\u7aefMQTT server\u6a21\u5757\u529f\u80fd"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u9664\u4e86\u6309\u7167\u4e1a\u52a1\u6765\u8bbe\u8ba1child client\u4e4b\u5916\uff0c\u6839\u636e\u6d4b\u8bd5\u9700\u6c42\uff0c\u6709\u65f6\u6211\u4eec\u8fd8\u9700\u8981\u6709\u4e00\u4e2a\u4e1a\u52a1\u7ba1\u7406\u6a21\u5757, \u7528\u6765\u628a\u5404\u4e2achild client\u7684\u884c\u4e3a\u5173\u8054\u7ba1\u7406\u8d77\u6765\u3002",(0,i.jsx)(n.br,{}),"\n","\u6bd4\u5982\u5728HarixClient\u7ec4\u5185\u5c31\u6709\u4e00\u4e2a\u8fd9\u6837\u7684child client"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"HarixClientApp"}),": \u5b83\u4e0d\u4e0e\u4e91\u7aef\u4e1a\u52a1\u76f4\u63a5\u76f8\u5173\uff0c\u8d1f\u8d23\u5c06\u5bf9\u5e94\u4e8e\u4e91\u7aef\u5404\u4e2a\u4e1a\u52a1\u7684child client\u6a21\u62df\u7684\u884c\u4e3a\u8fdb\u884c\u5173\u8054\u548c\u7ba1\u7406\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"parent-client",children:"parent client"}),"\n",(0,i.jsxs)(n.p,{children:["\u4ee5CustomLibraryBase\u4e3a\u7236\u7c7b\uff0c\u5b9e\u73b0HarixClient\u3002",(0,i.jsx)(n.br,{}),"\n","HarixClient\u662f\u4e0a\u9762\u6240\u6709child client\u7684parent client, \u5728parent client\u521d\u59cb\u5316\u65f6\uff0c\u5b9e\u4f8b\u5316\u6240\u6709\u7684child clients\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"self.asr_client = HarixClientAsr(parent_client=self)\nself.rcc_client = HarixClientRcc(parent_client=self)\nself.robot_client = HarixClientRobot(parent_client=self)\nself.switch_client = HarixClientSwitch(parent_client=self)\nself.tts_client = HarixClientTts(parent_client=self)\nself.vision_client = HarixClientVision(parent_client=self)\nself.push_client = HarixClientPush(parent_client=self)\nself.nlu_client = HarixClientNlu(parent_client=self)\nself.registry_client = HarixClientRegistry(parent_client=self)\nself.app_client = HarixClientApp(parent_client=self)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"case\u5e93",children:"case\u5e93"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"harix-auto-test2"}),"\u8fd9\u4e2arepo\u662f\u5bf9case\u7684\u5c01\u88c5"]}),"\n",(0,i.jsx)(n.h3,{id:"\u5b9e\u73b0globallibraray",children:"\u5b9e\u73b0GlobalLibraray"}),"\n",(0,i.jsxs)(n.p,{children:["\u6211\u4eec\u5c06",(0,i.jsx)(n.code,{children:"GlobalLibraryBase"}),"\u4f5c\u4e3a\u7236\u7c7b\u5b9e\u73b0\u4e86",(0,i.jsx)(n.code,{children:"harixautotest/app/GlobalLibrary.py"}),"\u91cd\u5199\u4e86\u7236\u7c7b\u7684",(0,i.jsx)(n.code,{children:"init_default_config()"}),', \u5bf9HARIX\u5e73\u53f0\u81ea\u52a8\u5316\u6d4b\u8bd5case\u4e2d\u4f7f\u7528\u5230\u7684\u914d\u7f6e\u9879\u8fdb\u884c\u7f3a\u7701\u914d\u7f6e\u503c\u521d\u59cb\u5316\u3002\n\u6bd4\u5982\u4e0b\u9762\u8fd9\u4e2a\u6d4b\u8bd5\u6b65\u9aa4\u4e2d\u7684"ignore"\u5b57\u6bb5\uff0c\u5c31\u662f\u548c\u5177\u4f53\u7684\u6d4b\u8bd5case\u6709\u5173\u7684\u914d\u7f6e\u9879\u3002']}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'    {\n      "type": "harix_client_tts_synthesize",\n      "text": "At cur_time, many efforts are made to improve the elders life",\n      "vendor": "Microsoft",\n      "lang": "th-TH",\n      "name": "th-TH-Pattara",\n      "expected_err_code": 0,\n      "output_file": "microsoft_tts.mp3",\n      "file_min_size": 1000,\n      "max_delay": 5000,\n      "step_description": [\n        "\u8c03\u7528harix-skill-tts\u7684synthesize\u63a5\u53e3\u901a\u8fc7vendor Microsoft\u5c06\u6587\u672c\u8f6c\u4e3a\u8bed\u97f3\u6587\u4ef6\uff0c",\n        "\u9a8c\u8bc1err_code, file_min_size, max_delay\u7b49"\n       ],\n      "ignore": {{ test_step_ignore.tts_vendor_microsoft | tojson() }}\n    },\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u5982\u679cignore\u7684\u503c\u4e3atrue,\u8868\u793a\u8fd9\u4e2a\u6b65\u9aa4\u4e0d\u6267\u884c\uff0c\u76f4\u63a5\u8df3\u8fc7\u3002\u5b83\u7684\u503c\u6765\u81ea\u4e8e",(0,i.jsx)(n.code,{children:"test_step_ignore.tts_vendor_microsoft"}),",\u6211\u4eec\u53ef\u4ee5\u5728",(0,i.jsx)(n.code,{children:"GlobalLibrary"}),"\u4e2d\u5bf9",(0,i.jsx)(n.code,{children:"test_step_ignore.tts_vendor_microsoft"}),"\u8fdb\u884c\u7f3a\u7701\u503c\u914d\u7f6e\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'   def init_default_config(self):\n\n        self.init_test_step_ignore()\n\n    def init_test_step_ignore(self):\n        test_step_ignore = self.config_inst.test_step_ignore      \n        if "tts_vendor_microsoft" not in test_step_ignore:\n            test_step_ignore["tts_vendor_microsoft"] = True\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u4e0a\u9762\u7684code\u8868\u793a\u5982\u679c\u5728\u914d\u7f6e\u6587\u4ef6\u4e2d\u6ca1\u6709\u5b9a\u4e49",(0,i.jsx)(n.code,{children:"test_step_ignore.tts_vendor_microsoft"}),",\u90a3\u4e48\u5b83\u7684\u503c\u5c31\u662fTrue"]}),"\n",(0,i.jsx)(n.h3,{id:"\u4f7f\u7528globallibraray",children:"\u4f7f\u7528GlobalLibraray"}),"\n",(0,i.jsx)(n.p,{children:"\u5f53\u5728robot framework\u4e2d\u4f7f\u7528\u65f6\uff0c\u9700\u8981\u5728robot\u7684resource\u6587\u4ef6\u4e2d\u914d\u7f6e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",metastring:"title=cases/global_resource.robot",children:"Library           harixautotest.app.GlobalLibrary  ${global_library_config}  WITH NAME    GlobalLibrary\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5f53\u76f4\u63a5\u4f7f\u7528python\u8fdb\u884c\u8c03\u8bd5\u65f6\u9700\u8981\u5728python\u6587\u4ef6\u4e2d\u914d\u7f6e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:"title=debug_case_harix_test.py",children:'def debug_harix_test(cases_list):\n    GlobalLibraryBase.g_global_library_base = None\n    GlobalLibrary.g_global_library = None\n    GlobalLibrary.GlobalLibrary("config/harix_test/robot.conf")\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u5b9e\u73b0testdynamicflow",children:"\u5b9e\u73b0TestDynamicFlow"}),"\n",(0,i.jsxs)(n.p,{children:["\u6211\u4eec\u5c06",(0,i.jsx)(n.code,{children:"TestDynamicFlowBase"}),"\u4f5c\u4e3a\u7236\u7c7b\u5b9e\u73b0\u4e86",(0,i.jsx)(n.code,{children:"harixautotest/app/TestDynamicFlow.py"}),"\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"TestDynamicFlow"}),"\u521d\u59cb\u5316\u65f6\uff0c\u6302\u8f7d\u9700\u8981\u7684handlers"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"        self.add_handler(DynamicFlowAutoPortalBackendClient())  \n        self.add_handler(DynamicFlowCmsProvision()) \n        self.add_handler(DynamicFlowHarixClient())\n        self.add_handler(DynamicFlowPortal())\n        self.add_handler(DynamicFlowRcusimClient())\n        self.add_handler(DynamicFlowRocClient())\n        self.add_handler(DynamicFlowSmartmapClient())\n        self.add_handler(DynamicFlowSmartVoiceClient())\n"})}),"\n",(0,i.jsx)(n.h3,{id:"\u4f7f\u7528testdynamicflow",children:"\u4f7f\u7528TestDynamicFlow"}),"\n",(0,i.jsx)(n.p,{children:"\u5f53\u5728robot framework\u4e2d\u4f7f\u7528\u65f6\uff0c\u9700\u8981\u5728robot\u7684suite\u6587\u4ef6\u4e2d\u914d\u7f6e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-text",metastring:"title=cases/harix_test/dynamic_flow_test/02030__portal_qa_using_smartvoice.robot",children:"Resource          ../../global_resource.robot\nLibrary           harixautotest.app.TestDynamicFlow   WITH NAME    TestDynamicFlow\nForce Tags  nostat-portal_qa_using_smartvoice  smartvoice_cd\n\n*** Test Cases ***\nTest Portal QA Using SmartVoice\n    TestDynamicFlow.run  dynamic_flows_from_tpl/dynamic_flow_test/portal_qa_using_smartvoice.json.j2\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u5f53\u76f4\u63a5\u4f7f\u7528python\u8fdb\u884c\u8c03\u8bd5\u65f6\u9700\u8981\u5728python\u6587\u4ef6\u4e2d\u914d\u7f6e"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",metastring:"title=debug_case_harix_test.py",children:'def debug_harix_test(cases_list):\n\n        test_dynamic_flow_inst = TestDynamicFlow()\n\n        if isinstance(test_config, str):\n            test_dynamic_flow_inst.run("dynamic_flows_from_tpl/" + test_config)\n        else:\n            test_dynamic_flow_inst.run("dynamic_flows_from_tpl/" + test_config[0], test_config[1])\n'})}),"\n",(0,i.jsx)(n.h3,{id:"\u8bbe\u8ba1case",children:"\u8bbe\u8ba1case"}),"\n",(0,i.jsx)(n.p,{children:"\u6309\u9700\u8bbe\u8ba1\uff0c\u53ef\u53c2\u8003\u6846\u67b6\u4ecb\u7ecd\u4e2d\u7684\u76f8\u5173\u6587\u6863"})]})}function _(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>a});var i=l(6540);const t={},s=i.createContext(t);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);