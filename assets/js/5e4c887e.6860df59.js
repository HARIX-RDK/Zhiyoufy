"use strict";(self.webpackChunkzhiyoufy_docs=self.webpackChunkzhiyoufy_docs||[]).push([[70],{5824:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>_,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var s=o(4848),t=o(8453);const i={title:"\u521b\u5efa\u65b0case"},r=void 0,a={id:"developer-guide/framework_intro/create-new-case",title:"\u521b\u5efa\u65b0case",description:"\u4e0b\u9762\u4ee5zhiyoufy-python\u4e2d\u7684data/templates/dynamicflowtest/00100configsinglecrud.json.j2\u4e3a\u4f8b",source:"@site/docs/0300-developer-guide/0100-framework_intro/00200-create-new-case.md",sourceDirName:"0300-developer-guide/0100-framework_intro",slug:"/developer-guide/framework_intro/create-new-case",permalink:"/Zhiyoufy/developer-guide/framework_intro/create-new-case",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:200,frontMatter:{title:"\u521b\u5efa\u65b0case"},sidebar:"docSidebar",previous:{title:"\u6982\u8ff0",permalink:"/Zhiyoufy/developer-guide/framework_intro/intro"},next:{title:"prepare",permalink:"/Zhiyoufy/developer-guide/framework_intro/prepare"}},c={},l=[{value:"\u6784\u5efacase\u63cf\u8ff0\u6587\u4ef6<code>*.json.j2</code>",id:"\u6784\u5efacase\u63cf\u8ff0\u6587\u4ef6jsonj2",level:2},{value:"\u8c03\u8bd5case\u63cf\u8ff0\u6587\u4ef6<code>*.json.j2</code>",id:"\u8c03\u8bd5case\u63cf\u8ff0\u6587\u4ef6jsonj2",level:2},{value:"\u521b\u5efarobot\u7684suite\u6587\u4ef6",id:"\u521b\u5efarobot\u7684suite\u6587\u4ef6",level:2}];function d(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["\u4e0b\u9762\u4ee5",(0,s.jsx)(n.code,{children:"zhiyoufy-python"}),"\u4e2d\u7684",(0,s.jsx)(n.code,{children:"data/templates/dynamic_flow_test/00100__config_single_crud.json.j2"}),"\u4e3a\u4f8b"]}),"\n",(0,s.jsxs)(n.h2,{id:"\u6784\u5efacase\u63cf\u8ff0\u6587\u4ef6jsonj2",children:["\u6784\u5efacase\u63cf\u8ff0\u6587\u4ef6",(0,s.jsx)(n.code,{children:"*.json.j2"})]}),"\n",(0,s.jsxs)(n.p,{children:["\u91cc\u9762\u7684datas\u662f\u4e00\u4e2a\u5217\u8868\uff0c\u6bcf\u9879\u4ee3\u8868\u4e00\u4e2a\u64cd\u4f5c\u6b65\u9aa4\uff0c\u901a\u5e38\u662f\u987a\u5e8f\u6267\u884c\uff0c\u7c7b\u4f3c\u7f16\u7a0b\u8bed\u8a00\uff0c\n\u6846\u67b6\u91cc\u4e5f\u5c01\u88c5\u4e86",(0,s.jsx)(n.strong,{children:"loop\uff0cif"}),"\u7b49\u6b65\u9aa4\u5757"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",metastring:"title=data/templates/dynamic_flow_test/00100__config_single_crud.json.j2",children:'  "params": {\n    "zhiyoufy_addr": "{{ zhiyoufy.addr }}",\n    "case_description": [\n        "\u4f7f\u7528user_params_group_3\u7528\u6237\u5bf9\u7279\u5b9a\u7684config single\u505aCRUD\u64cd\u4f5c"\n    ]\n  },\n  "datas": [\n    {\n      "type": "zhiyoufy_base_login",\n      "username": "{{ zhiyoufy.user_params_group_3.username }}",\n      "password": "{{ zhiyoufy.user_params_group_3.password }}"\n    },\n\n\n    {\n        "type": "zhiyoufy_environment_get_single_by_name",\n        "environment_var_path": "environment_var",\n        "name": "{{ env_name }}",\n        "must_exist": true,\n        "step_description": "\u67e5\u627e\u540d\u5b57\u4e3aname\u7684environment"\n    },\n'})}),"\n",(0,s.jsxs)(n.h2,{id:"\u8c03\u8bd5case\u63cf\u8ff0\u6587\u4ef6jsonj2",children:["\u8c03\u8bd5case\u63cf\u8ff0\u6587\u4ef6",(0,s.jsx)(n.code,{children:"*.json.j2"})]}),"\n",(0,s.jsx)(n.p,{children:"\u8c03\u8bd5\u7684\u65f6\u5019\u76f4\u63a5\u4f7f\u7528python\uff0c\u8fd9\u6837\u53ef\u4ee5\u8bbe\u7f6e\u65ad\u70b9"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'def debug_zhiyoufy_test(cases_list):\n    GlobalLibraryBase.g_global_library_base = None\n    GlobalLibrary.g_global_library = None\n    GlobalLibrary.GlobalLibrary("config/zhiyoufy_test/robot.conf")\n\n    for test_config in cases_list:\n        test_dynamic_flow_inst = TestDynamicFlow()\n\n        if isinstance(test_config, str):\n            test_dynamic_flow_inst.run("dynamic_flows_from_tpl/" + test_config)\n        else:\n            test_dynamic_flow_inst.run("dynamic_flows_from_tpl/" + test_config[0], test_config[1])\n\nif __name__ == \'__main__\':\n\n        cases_list = [\n            "dynamic_flow_test/00100__config_single_crud.json.j2",\n        ]\n\n    for trial in range(1):\n        debug_zhiyoufy_test(cases_list)            \n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u521b\u5efarobot\u7684suite\u6587\u4ef6",children:"\u521b\u5efarobot\u7684suite\u6587\u4ef6"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"global_resource.robot"}),"\u8fd9\u4e2a\u8d44\u6e90\u6587\u4ef6\u8d1f\u8d23\u521d\u59cb\u5316",(0,s.jsx)(n.code,{children:"GlobalLibrary"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"Library           zhiyoufy.app.TestDynamicFlow"}),"\u8fd9\u4e2a\u8d1f\u8d23\u521d\u59cb\u5316",(0,s.jsx)(n.code,{children:"TestDynamicFlow"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"TestDynamicFlow.run"}),"\u8fd9\u4e2a\u662f\u8c03\u7528\u5bf9\u5e94\u51fd\u6570\u8fd0\u884c"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",metastring:"title=cases/zhiyoufy_test/dynamic_flow_test/01000__config_single_crud.robot",children:"*** Settings ***\nDocumentation     A test suite for Dynamic Flow\n...\n...               Config Single CRUD\nResource          ../../global_resource.robot\nLibrary           zhiyoufy.app.TestDynamicFlow   WITH NAME    TestDynamicFlow\nForce Tags        nostat-00100__config_single_crud\n\n*** Test Cases ***\nTest Config Single CRUD\n    TestDynamicFlow.run  dynamic_flows_from_tpl/dynamic_flow_test/00100__config_single_crud.json.j2\n"})})]})}function _(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>a});var s=o(6540);const t={},i=s.createContext(t);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);