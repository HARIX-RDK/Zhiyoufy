"use strict";(self.webpackChunkzhiyoufy_docs=self.webpackChunkzhiyoufy_docs||[]).push([[630],{3046:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>r,default:()=>p,frontMatter:()=>_,metadata:()=>s,toc:()=>c});var o=i(4848),t=i(8453);const _={title:"Case\u63cf\u8ff0\u6587\u4ef6"},r=void 0,s={id:"developer-guide/framework_intro/zhiyoufy-python/case_description",title:"Case\u63cf\u8ff0\u6587\u4ef6",description:"\u4ecb\u7ecd",source:"@site/docs/0300-developer-guide/0100-framework_intro/zhiyoufy-python/00600-case_description.md",sourceDirName:"0300-developer-guide/0100-framework_intro/zhiyoufy-python",slug:"/developer-guide/framework_intro/zhiyoufy-python/case_description",permalink:"/Zhiyoufy/developer-guide/framework_intro/zhiyoufy-python/case_description",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:600,frontMatter:{title:"Case\u63cf\u8ff0\u6587\u4ef6"},sidebar:"docSidebar",previous:{title:"Client",permalink:"/Zhiyoufy/developer-guide/framework_intro/zhiyoufy-python/client"},next:{title:"\u6982\u8ff0",permalink:"/Zhiyoufy/developer-guide/framework_usage/intro"}},a={},c=[{value:"\u4ecb\u7ecd",id:"\u4ecb\u7ecd",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2}];function d(n){const e={code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h2,{id:"\u4ecb\u7ecd",children:"\u4ecb\u7ecd"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"datas\u5217\u8868"}),"\u4e2d\u5305\u542b\u7684\u5c31\u662f\u5bf9\u5e94case\u7684\u6d4b\u8bd5\u6b65\u9aa4"]}),"\n",(0,o.jsxs)(e.p,{children:["\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u6bcf\u4e2a\u6d4b\u8bd5\u6b65\u9aa4\u90fd\u6709\u4e00\u4e2a",(0,o.jsx)(e.code,{children:"type"}),"\u5b57\u6bb5\uff0c",(0,o.jsx)(e.code,{children:"TestDynamicFlowBase.run"}),"\u5c31\u662f\u6839\u636e\u8fd9\u4e2atype\u6765\u5224\u65ad\u8be5\u8c03\u7528\u54ea\u4e2ahandler\u6765\u5904\u7406\u3002"]}),"\n",(0,o.jsxs)(e.p,{children:["\u6bcf\u4e2atype\u7684\u547d\u540d\u90fd\u8981\u4ee5\u5c06\u8981\u5904\u7406\u5b83\u7684handler\u7684",(0,o.jsx)(e.code,{children:"type_prefix"}),"\u4f5c\u4e3a\u524d\u7f00\uff0c\u6bd4\u5982type",(0,o.jsx)(e.code,{children:"zhiyoufy_base_login"}),"\u8868\u660e\u8981\u7531",(0,o.jsx)(e.code,{children:"zhiyoufy_"}),"\u5bf9\u5e94\u7684handler\u6765\u5904\u7406"]}),"\n",(0,o.jsx)(e.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,o.jsxs)(e.p,{children:["\u53ef\u4ee5\u53c2\u8003",(0,o.jsx)(e.code,{children:"zhiyoufy-python"}),"\u9879\u76ee\u4e2d\u7684\n",(0,o.jsx)(e.code,{children:"data/templates/dynamic_flow_test/00100__config_single_crud.json.j2"})]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-json",children:'{\n  "params": {\n    "zhiyoufy_addr": "{{ zhiyoufy.addr }}",\n    "case_description": [\n        "\u4f7f\u7528user_params_group_3\u7528\u6237\u5bf9\u7279\u5b9a\u7684config single\u505aCRUD\u64cd\u4f5c"\n    ]\n  },\n  "datas": [\n    {\n      "type": "zhiyoufy_base_login",\n      "username": "{{ zhiyoufy.user_params_group_3.username }}",\n      "password": "{{ zhiyoufy.user_params_group_3.password }}"\n    },\n\n\n    {\n        "type": "zhiyoufy_environment_get_single_by_name",\n        "environment_var_path": "environment_var",\n        "name": "{{ env_name }}",\n        "must_exist": true,\n        "step_description": "\u67e5\u627e\u540d\u5b57\u4e3aname\u7684environment"\n    },\n\n\n    {\n      "type": "zhiyoufy_config_single_get_single_by_name",\n      "environment_var_path": "environment_var",\n      "config_single_var_path": "config_single_var",\n      "name": "config_single_for_test_crud_{{ params_group_4_item_name }}",\n      "step_description": "\u67e5\u627e\u540d\u5b57\u4e3aname\u7684config_single"\n    },\n    {\n      "type": "zhiyoufy_config_single_del",\n      "config_single_var_path": "config_single_var",\n      "step_description": [\n        "\u5982\u679c\u5b58\u5728\uff0c\u5220\u9664\u6307\u5b9aconfig_single"\n      ]\n    },\n    {\n      "type": "zhiyoufy_config_single_create",\n      "environment_var_path": "environment_var",\n      "name": "config_single_for_test_crud_{{ params_group_4_item_name }}",\n      "configValue": "config_single_for_test_crud_phase: created",\n      "step_description": "\u521b\u5efa"\n    },\n    {\n      "type": "zhiyoufy_config_single_get_single_by_name",\n      "environment_var_path": "environment_var",\n      "config_single_var_path": "config_single_var",\n      "name": "config_single_for_test_crud_{{ params_group_4_item_name }}",\n      "must_exist": true,\n      "step_description": "\u67e5\u627e\u540d\u5b57\u4e3aname\u7684config_single"\n    },\n    {\n      "type": "zhiyoufy_config_single_update",\n      "config_single_var_path": "config_single_var",\n      "configValue": "config_single_for_test_crud_phase: updated",\n      "step_description": "\u521b\u5efa"\n    },\n    {\n      "type": "zhiyoufy_config_single_get_single_by_name",\n      "environment_var_path": "environment_var",\n      "config_single_var_path": "config_single_var",\n      "name": "config_single_for_test_crud_{{ params_group_4_item_name }}",\n      "must_exist": true,\n      "expected_rsp": {\n        "configValue": "config_single_for_test_crud_phase: updated"\n      },\n      "step_description": "\u67e5\u627e\u540d\u5b57\u4e3aname\u7684config_single"\n    },\n    {\n      "type": "zhiyoufy_config_single_del",\n      "config_single_var_path": "config_single_var",\n      "step_description": [\n        "\u5982\u679c\u5b58\u5728\uff0c\u5220\u9664\u6307\u5b9aconfig_single"\n      ]\n    },\n\n    {\n      "type": "general_sleep",\n{% if config_single_crud_time_seconds is defined %}\n      "time_seconds": {{ config_single_crud_time_seconds }}\n{% else %}\n      "time_seconds": 2\n{% endif %}\n    },\n\n\n    {\n      "type": "zhiyoufy_base_logout"\n    }\n  ]\n}\n'})})]})}function p(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>r,x:()=>s});var o=i(6540);const t={},_=o.createContext(t);function r(n){const e=o.useContext(_);return o.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:r(n.components),o.createElement(_.Provider,{value:e},n.children)}}}]);